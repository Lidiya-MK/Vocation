<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mansalva&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/style.css" />
    <script src="/scripts/toast.js"></script>
    <script src="/scripts/tokens.js"></script>
    <script src="/scripts/logout.js"></script>
    <script src="/scripts/job-poster.js"></script>
    <script src="/scripts/confirm-box.js"></script>

    <title>Job Poster Home</title>
  </head>
  <body class="bg-white">
    <!-- Top Navigation Bar -->
    <header>
      <nav
        class="bg-white py-2 px-4 flex items-center justify-between shadow-md"
      >
        <!-- Company Name -->
        <img
          src="/assets/logo.png"
          alt="Vocation Logo"
          class="ml-[10px] h-[64px]"
        />

        <div class="flex space-x-8">
          <!-- Home -->
          <a href="/job-posters/dashboard" class="flex flex-col items-center">
            <img src="/assets/homeIcon.png" alt="Home" class="h-6 w-6" />
            <span class="text-sm text-black mt-1">Home</span>
          </a>
          <!-- Profile -->
          <a href="/job-posters/profile" class="flex flex-col items-center">
            <img src="/assets/userIcon.png" alt="Profile" class="h-6 w-6" />
            <span class="text-sm text-gray-500 mt-1">Profile</span>
          </a>
          <!-- Logout -->
          <a
            class="flex flex-col items-center cursor-pointer"
            id="logout-button"
          >
            <img src="/assets/logoutIcon.png" alt="Logout" class="h-6 w-6" />
            <span class="text-sm text-gray-500 mt-1">Logout</span>
          </a>
        </div>
      </nav>
    </header>

    <main>
      <section class="relative w-full h-[250px]">
        <img
          src="/assets/companyBanner.png"
          alt="Cover Image"
          class="w-full h-full object-cover"
        />

        <!-- Content Overlay -->
        <div
          class="absolute inset-0 flex justify-between items-center px-10 py-8"
        >
          <!-- Left Content -->
          <div class="flex flex-col space-y-4">
            <!-- Circular Image and Company Name -->
            <div class="flex items-center space-x-4">
              <img
                src="/assets/companyLogo.png"
                alt="Circular Image"
                class="w-[100px] h-[100px] rounded-full object-cover"
              />

              <!-- Company Name -->
              <div>
                <h2
                  class="text-black font-bold text-[40px] leading-none"
                  th:text="${companyName}"
                ></h2>
              </div>
            </div>

            <!-- Industry and Location -->
            <div class="flex flex-col space-y-2 mt-[-80px]">
              <div class="flex items-center space-x-2">
                <img
                  src="/assets/onsite-employer.png"
                  alt="Industry Icon"
                  class="w-6 h-6"
                />
                <span
                  class="text-[#C95A15] font-bold text-[16px]"
                  th:text="${industryName}"
                ></span>
              </div>

              <div class="flex items-center space-x-2">
                <img
                  src="/assets/mailIcon.png"
                  alt="Industry Icon"
                  class="w-6 h-6"
                />
                <span
                  class="text-[#716D6D] font-bold text-[16px]"
                  th:text="${companyEmail}"
                ></span>
              </div>

              <div class="flex items-center space-x-2">
                <img
                  src="/assets/LocationIcon.png"
                  alt="Location Icon"
                  class="w-6 h-6"
                />
                <span
                  class="text-[#716D6D] font-bold text-[16px]"
                  th:text="${location}"
                ></span>
              </div>
            </div>
          </div>

          <!-- Right Content -->
          <div class="text-left">
            <h2 class="text-[#716D6D] font-bold text-[16px] hidden lg:block">
              About
            </h2>
            <p
              class="text-[#4b4b4b] text-[16px] font-light w-[500px] mt-2 hidden lg:block"
              th:text="${companyDescription}"
            ></p>
          </div>
        </div>
      </section>

      <section class="bg-white py-6">
        <div class="container mx-auto flex justify-between items-center px-10">
          <!-- Left Content -->
          <div class="flex items-center space-x-4 text-center md:text-left">
            <img
              src="/assets/announIcon.png"
              alt="Announcement Icon"
              class="w-8 h-8"
            />
            <span class="text-[#F0823E] text-[16px]"
              >Your company's job posting</span
            >
          </div>

          <!-- Right Content -->
          <div class="flex items-center space-x-4">
            <button
              onclick="openModal()"
              class="flex items-center border border-[#F0823E] rounded-full px-4 py-2 text-[#F0823E] text-[16px] font-medium hover:bg-[#F0823E]/10 transition"
            >
              <img
                src="/assets/addIcon.png"
                alt="Plus Icon"
                class="w-6 h-6 mr-2"
              />
              Create a post
            </button>
          </div>
        </div>
      </section>

      <!-- Modal Content -->
      <div
        id="modal"
        class="fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 hidden py-10"
      >
        <div
          class="bg-white w-[90%] p-6 rounded-lg shadow-lg space-y-6 relative md:w-[50%] max-w-[600px] px-6 py-4 max-h-full overflow-y-auto"
        >
          <!-- Close Button -->
          <button
            onclick="closeModal()"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>

          <!-- Modal Header -->
          <div class="flex items-center justify-center space-x-2">
            <img src="/assets/addIcon.png" alt="Plus Icon" class="w-6 h-6" />
            <h2 class="text-3xl font-semibold text-[#F0823E]">Create a Post</h2>
          </div>

          <!-- Form -->
          <form id="job-form">
            <!-- Job Title -->
            <div class="mb-4">
              <label
                for="jobTitle"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Job Title</label
              >
              <input
                type="text"
                id="jobTitle"
                placeholder="Enter Title"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
                required
              />
            </div>

            <!-- Job Type -->
            <div class="mb-4">
              <label
                for="jobType"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Type</label
              >
              <select
                id="jobType"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
              >
                <option value="ON_SITE">Onsite</option>
                <option value="HYBRID">Hybrid</option>
                <option value="REMOTE">Remote</option>
              </select>
            </div>

            <!-- Job Description -->
            <div class="mb-4">
              <label
                for="jobDescription"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Description</label
              >
              <textarea
                id="jobDescription"
                placeholder="Enter job description"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E] h-24"
              ></textarea>
            </div>

            <!-- Skills -->
            <!-- Skills Multi-Select Dropdown -->
            <div class="mb-4 relative">
              <label
                for="skills"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Skills</label
              >
              <div
                id="skillsDropdown"
                class="border border-gray-300 rounded-lg px-3 py-2 text-sm cursor-pointer flex justify-between items-center"
                onclick="toggleSkillsDropdown()"
              >
                <span id="skillsPlaceholder">Select Skills</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-gray-500"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div
                id="skillsList"
                class="absolute left-0 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg hidden z-10 max-h-40 overflow-y-auto"
              >
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('HTML')"
                >
                  HTML
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('CSS')"
                >
                  CSS
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('JavaScript')"
                >
                  JavaScript
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('Python')"
                >
                  Python
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('React')"
                >
                  React
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('Blender')"
                >
                  Blender
                </div>
                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('Figma')"
                >
                  Figma
                </div>

                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('Prototyping')"
                >
                  Prototyping
                </div>

                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('UX/UI Design')"
                >
                  UX/UI design
                </div>

                <div
                  class="skill-item p-2 cursor-pointer hover:bg-[#F0823E] hover:text-white"
                  onclick="selectSkill('Graphics Design')"
                >
                  Graphics Design
                </div>
                <!-- Add more skills as needed -->
              </div>
              <div
                id="selectedSkillsContainer"
                class="mt-2 flex flex-wrap gap-2"
              ></div>
            </div>

            <!-- Pay -->
            <div class="mb-4">
              <label
                for="budget"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Budget</label
              >
              <input
                type="number"
                id="budget"
                placeholder="Enter budget (e.g., 80000)"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
                step="0.01"
                required
              />
            </div>

            <!-- Start Date -->
            <div class="mb-4">
              <label
                for="startDate"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Start Date</label
              >
              <input
                type="date"
                id="startDate"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
                required
              />
            </div>

            <!-- End Date -->
            <div class="mb-4">
              <label
                for="endDate"
                class="block text-sm font-medium text-gray-700 mb-2"
                >End Date</label
              >
              <input
                type="date"
                id="endDate"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
                required
              />
            </div>

            <!-- Application Deadline -->
            <div class="mb-4">
              <label
                for="applicationDeadline"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Application Deadline</label
              >
              <input
                type="date"
                id="applicationDeadline"
                class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-[#F0823E] focus:border-[#F0823E]"
                required
              />
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button
                type="submit"
                class="w-full bg-[#F0823E] text-white font-bold py-2 rounded-lg hover:bg-[#F0823E]/90 transition"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>

      <section class="container mx-auto p-4">
        <!-- Job Cards Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 my-10">
          <!-- Empty state for no applications -->
          <div id="empty-state" class="hidden text-center col-span-full">
            <img
              src="/assets/emptyIcon.png"
              alt="Empty Icon"
              class="w-64 h-64 mx-auto mb-4 opacity-65"
            />
            <p class="text-lg text-gray-700">You haven't posted any jobs yet</p>
          </div>

          <div th:each="job : ${jobs}" class="job-item">
            <div
              class="max-w-[360px] w-full h-auto job-card-remote border border-[#6F6C6C]/[0.13] rounded-lg shadow-md hover:shadow-lg hover:translate-y-[-4px] transition-all duration-300 relative p-4 bg-white mx-auto"
              th:if="${job.type.name() == 'REMOTE'}"
              th:attr="data-job-id=${job.id}"
            >
              <!-- Top Left Type Button -->
              <button
                class="absolute top-4 left-4 bg-[#57DD70] text-white font-bold text-sm py-1 px-4 rounded-full"
              >
                Remote
              </button>

              <!-- Top Right Delete Icon -->
              <button class="absolute top-4 right-4 delete-job-button">
                <img
                  src="/assets/deleteIcon.png"
                  alt="Delete"
                  class="w-5 h-6"
                />
              </button>

              <!-- Job Title -->
              <h2
                class="text-black text-[30px] text-center mt-8"
                th:text="${job.title}"
              ></h2>

              <!-- Job Description -->
              <p
                class="text-sm text-center mt-2 text-gray-600"
                th:text="${#strings.length(job.description) > 40 ? #strings.substring(job.description, 0, 40) + '...' : job.description}"
              ></p>

              <!-- Pay, Applicants, Date, and Deadline -->
              <div class="text-left mt-4">
                <p
                  class="text-[#398A48] font-medium text-sm"
                  th:text="${job.budget} + ' Birr/hr'"
                ></p>
                <p
                  class="text-gray-500 text-xs"
                  th:text="'Date: ' + ${job.startDate}"
                ></p>
                <p
                  class="text-[#398A48] font-bold text-xs"
                  th:text="'Deadline: ' + ${job.applicationDeadline}"
                ></p>
              </div>

              <!-- Divider and View Job -->
              <div class="flex flex-col items-center mt-4">
                <div class="w-[160px] h-[1px] bg-[#57DD70]"></div>
                <span
                  class="mt-2 text-sm font-medium text-black job-details-link-button cursor-pointer"
                >
                  VIEW DETAILS
                </span>
              </div>
            </div>

            <div
              class="max-w-[360px] w-full h-auto job-card-onsite border border-[#6F6C6C]/[0.13] rounded-lg shadow-md hover:shadow-lg hover:translate-y-[-4px] transition-all duration-300 relative p-4 bg-white mx-auto"
              th:if="${job.type.name() == 'ON_SITE'}"
              th:attr="data-job-id=${job.id}"
            >
              <!--  Type  -->
              <button
                class="absolute top-4 left-4 bg-[#F0823E] text-white font-bold text-sm py-1 px-4 rounded-full"
              >
                Onsite
              </button>

              <!-- Top Right Delete Icon -->
              <button class="absolute top-4 right-4 delete-job-button">
                <img
                  src="/assets/deleteIcon.png"
                  alt="Delete"
                  class="w-5 h-6"
                />
              </button>

              <!-- Job Title -->
              <h2
                class="text-black text-[30px] text-center mt-8"
                th:text="${job.title}"
              ></h2>

              <!-- Job Description -->
              <p
                class="text-sm text-center mt-2 text-gray-600"
                th:text="${#strings.length(job.description) > 40 ? #strings.substring(job.description, 0, 40) + '...' : job.description}"
              ></p>

              <!-- Pay, Applicants, Date, and Deadline -->
              <div class="text-left mt-4">
                <p
                  class="text-[#D66016] font-medium text-sm"
                  th:text="${job.budget} + ' Birr/hr'"
                ></p>
                <p
                  class="text-gray-500 text-xs"
                  th:text="'Date: ' + ${job.startDate}"
                ></p>
                <p
                  class="text-[#D66016] font-bold text-xs"
                  th:text="'Deadline: ' +  ${job.applicationDeadline}"
                ></p>
              </div>

              <!-- Divider and View Job -->
              <div class="flex flex-col items-center mt-4">
                <div class="w-[160px] h-[1px] bg-[#F0823E]"></div>
                <span
                  class="mt-2 text-sm font-medium text-black job-details-link-button cursor-pointer"
                >
                  VIEW DETAILS
                </span>
              </div>
            </div>

            <div
              class="max-w-[360px] w-full h-auto job-card-hybrid border border-[#6F6C6C]/[0.13] rounded-lg shadow-md hover:shadow-lg hover:translate-y-[-4px] transition-all duration-300 relative p-4 bg-white mx-auto"
              th:if="${job.type.name()  == 'HYBRID'}"
              th:attr="data-job-id=${job.id}"
            >
              <!-- Top Left Type Button -->
              <button
                class="absolute top-4 left-4 bg-[#6936B7] text-white font-bold text-sm py-1 px-4 rounded-full"
              >
                Hybrid
              </button>

              <!-- Top Right Delete Icon -->
              <button class="absolute top-4 right-4 delete-job-button">
                <img
                  src="/assets/deleteIcon.png"
                  alt="Delete"
                  class="w-5 h-6"
                />
              </button>

              <!-- Job Title -->
              <h2
                class="text-black text-[30px] text-center mt-8"
                th:text="${job.title}"
              >
                Graphics Designer
              </h2>

              <!-- Job Description -->
              <p
                class="text-sm text-center mt-2 text-gray-600"
                th:text="${#strings.length(job.description) > 40 ? #strings.substring(job.description, 0, 40) + '...' : job.description}"
              ></p>

              <!-- Pay, Applicants, Date, and Deadline -->
              <div class="text-left mt-4">
                <p
                  class="text-[#45227A] font-medium text-sm"
                  th:text="${job.budget} + ' Birr/hr'"
                ></p>
                <p
                  class="text-gray-500 text-xs"
                  th:text="'Date: ' + ${job.startDate}"
                ></p>
                <p
                  class="text-[#45227A] font-bold text-xs"
                  th:text="'Deadline: ' +  ${job.applicationDeadline}"
                ></p>
              </div>

              <!-- Divider and View Job -->
              <div class="flex flex-col items-center mt-4">
                <div class="w-[160px] h-[1px] bg-[#6936B7]"></div>
                <span
                  class="mt-2 text-sm font-medium text-black job-details-link-button cursor-pointer"
                >
                  VIEW DETAILS
                </span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="bg-black py-8">
      <div
        class="grid grid-cols-5 gap-6 text-center text-[16px] font-bold text-white"
      >
        <!-- First Column -->
        <div class="flex flex-col gap-4">
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Home</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >About Us</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Contact Us</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Privacy Policy</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Terms & Conditions</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >FAQs</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Blog</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Careers</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Support Center</a
          >
        </div>

        <!-- Second Column -->
        <div class="flex flex-col gap-4">
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Create a Profile</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Browse Jobs</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Apply for Jobs</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Update Availability</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >View Job Offers</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Search by Skills</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Job Seeker Dashboard</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >How It Works</a
          >
        </div>

        <!-- Third Column -->
        <div class="flex flex-col gap-4">
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Our Mission</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Our Vision</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Team</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Partners</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Media Kit</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Press Releases</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Investor Relations</a
          >
        </div>

        <!-- Fourth Column -->
        <div class="flex flex-col gap-4">
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Facebook</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Twitter</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >LinkedIn</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Instagram</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >YouTube</a
          >
        </div>

        <!-- Fifth Column -->
        <div class="flex flex-col gap-4">
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Contact Support</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Troubleshooting Guides</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Live Chat</a
          >
          <a
            href="#"
            class="hover:text-[#F0823E] text-white text-sm sm:text-base"
            >Community Forum</a
          >
          <a
            href="#"
            class="hover:text-[#6EB0B6] text-white text-sm sm:text-base"
            >Knowledge Base</a
          >
        </div>
      </div>
    </footer>
    <!-- Copyright Section -->
    <div class="mt-6 text-center pb-3 bg-white">
      <p class="text-black text-[16px] font-bold sm:text-sm">
        Â© 2025 Vocation. All Rights Reserved.
      </p>
    </div>

    <script>
      const applicationItems = document.querySelectorAll(".job-item");
      const emptyState = document.getElementById("empty-state");

      if (applicationItems.length === 0) {
        emptyState.classList.remove("hidden");
      } else {
        emptyState.classList.add("hidden");
      }

      function openModal() {
        document.getElementById("modal").classList.remove("hidden");
        document.getElementById("modal").classList.add("flex");
      }

      function closeModal() {
        document.getElementById("modal").classList.remove("flex");
        document.getElementById("modal").classList.add("hidden");
      }

      function toggleSkillsDropdown() {
        const dropdown = document.getElementById("skillsList");
        dropdown.classList.toggle("hidden");
      }

      function selectSkill(skill) {
        const selectedSkillsContainer = document.getElementById(
          "selectedSkillsContainer"
        );

        if (
          Array.from(selectedSkillsContainer.children).some(
            (child) => child.dataset.skill === skill
          )
        ) {
          return;
        }

        const skillBadge = document.createElement("div");
        skillBadge.className =
          "bg-[#F0823E] text-white text-sm py-1 px-3 rounded-full flex items-center space-x-2";
        skillBadge.dataset.skill = skill;

        skillBadge.innerHTML = `
      <span>${skill}</span>
      <button
        type="button"
        class="text-white hover:text-gray-300"
        onclick="removeSkill('${skill}')"
      >
        &times;
      </button>
    `;

        selectedSkillsContainer.appendChild(skillBadge);

        updateSkillsInput();
      }

      function removeSkill(skill) {
        const selectedSkillsContainer = document.getElementById(
          "selectedSkillsContainer"
        );
        const skillBadge = Array.from(selectedSkillsContainer.children).find(
          (child) => child.dataset.skill === skill
        );
        if (skillBadge) {
          selectedSkillsContainer.removeChild(skillBadge);
        }

        updateSkillsInput();
      }

      function updateSkillsInput() {
        const selectedSkillsContainer = document.getElementById(
          "selectedSkillsContainer"
        );
        const skills = Array.from(selectedSkillsContainer.children).map(
          (child) => child.dataset.skill
        );
        const placeholder = document.getElementById("skillsPlaceholder");
        placeholder.textContent = skills.length
          ? skills.join(", ")
          : "Select Skills";
      }

      window.addEventListener("click", (e) => {
        const dropdown = document.getElementById("skillsList");
        const dropdownContainer = document.getElementById("skillsDropdown");

        if (!dropdownContainer.contains(e.target)) {
          dropdown.classList.add("hidden");
        }
      });

      // create form
      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("job-form")
          .addEventListener("submit", async function (event) {
            event.preventDefault();

            const title = document.getElementById("jobTitle").value;
            const type = document.getElementById("jobType").value;
            const description = document.getElementById("jobDescription").value;
            const budget = parseFloat(document.getElementById("budget").value);
            const startDate = document.getElementById("startDate").value;
            const endDate = document.getElementById("endDate").value;
            const applicationDeadline = document.getElementById(
              "applicationDeadline"
            ).value;

            const selectedSkillsContainer = document.getElementById(
              "selectedSkillsContainer"
            );
            const skillsRequired = Array.from(
              selectedSkillsContainer.children
            ).map((child) => child.dataset.skill);

            if (
              !title ||
              !type ||
              !description ||
              !budget ||
              !startDate ||
              !endDate ||
              !applicationDeadline
            ) {
              showToast("Please fill in all the fields.", "error");
              return;
            }

            if (skillsRequired.length === 0) {
              showToast("Please select at least one skill.", "error");
              return;
            }

            const payload = {
              title,
              description,
              type,
              skillsRequired,
              budget: budget,
              startDate,
              endDate,
              applicationDeadline,
              status: "OPEN",
            };

            sendCreateRequest("/job-posters/jobs", payload);
          });
      });

      // delete buttons
      document.addEventListener("DOMContentLoaded", () => {
        const buttons = document.querySelectorAll(".delete-job-button");
        const detailsLink = document.querySelectorAll(
          ".job-details-link-button"
        );

        buttons.forEach((button) => {
          button.addEventListener("click", async (event) => {
            const jobCard = event.target.parentElement.parentElement;
            const jobId = jobCard.getAttribute("data-job-id");
            const confirmed = await showConfirmBox(
              "Are you sure you want to delete this job?",
              "error"
            );

            if (!confirmed) {
              return;
            }

            if (jobId) {
              const deleteUrl = `/job-posters/jobs/${jobId}`;
              try {
                const res = await sendDeleteJobRequest(deleteUrl);
                if (res === true) {
                  jobCard.parentElement.remove();
                  showToast("Job deleted successfully", "success");
                  const applicationItems =
                    document.querySelectorAll(".job-item");
                  const emptyState = document.getElementById("empty-state");

                  if (applicationItems.length === 0) {
                    emptyState.classList.remove("hidden");
                  } else {
                    emptyState.classList.add("hidden");
                  }
                }
              } catch (error) {
                showToast(error.message, "error");
              }
            } else {
              showToast("Job ID not found", "error");
            }
          });
        });

        detailsLink.forEach((link) => {
          link.addEventListener("click", (event) => {
            const jobCard = event.target.parentElement.parentElement;
            const jobId = jobCard.getAttribute("data-job-id");
            if (jobId) {
              window.location.href = `/job-posters/job-details/${jobId}`;
            } else {
              showToast("Job ID not found", "error");
            }
          });
        });
      });
    </script>
  </body>
</html>
